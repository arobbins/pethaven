!function e(t,n,o){function r(a,u){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return r(n||e)},c,c.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=o(e("./vendor")),i=o(e("./component-petfinder")),a=o(e("./component-mobile-menu"));jQuery(document).ready(function(){a.default.init(),r.default.initCarousel(),r.default.initFitvid(),i.default.loadPets()})},{"./component-mobile-menu":2,"./component-petfinder":3,"./vendor":6}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(e("slideout")),r=function(){var e=jQuery(".nav-mobile"),t=jQuery(".toggle-button"),n=jQuery(".menu-mobile-navigation-container");jQuery(".slideout-panel");return{init:function(){!function(e){t.click(function(){e.toggle()})}(new o.default({panel:document.getElementById("content"),menu:document.getElementById("menu-mobile"),padding:256,tolerance:70,side:"right",touch:!1})),n.fadeIn("slow"),t.click(function(t){t.preventDefault(),e.is(":visible")?e.hide():e.fadeIn(),jQuery(this).toggleClass("is-active")})}}}();n.default=r},{slideout:"slideout"}],3:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("./petfinder")),i=o(e("rx")),a=o(e("lodash")),u=(o(e("./utils")),function(){var e=jQuery(".component-pet-finder-grid"),t=jQuery(".component-pet-finder"),n=(jQuery(".component-pet-finder .spinner"),jQuery(".component-pet-finder-filter-zipcode"),jQuery(".component-pet-finder-filter-type")),o=jQuery(".component-pet-finder-filter-breed"),u=jQuery(".component-pet-finder-filter-size"),s=jQuery(".component-pet-finder-filter-age"),l=jQuery(".component-pet-finder-filter-clear"),c=(jQuery(".component-pet-finder .msg"),{type:null,breeds:null,size:null,age:null}),d=function(t){jQuery.each(t,function(t,n){var o=function(e){var t="";return e.length?jQuery.each(e,function(e,n){n.$t&&(t=t+=" "+n.$t.toLowerCase())}):t=t+=" "+e.$t.toLowerCase(),t}(n.breeds.breed),r=function(e){return"photos"in e.media?e.media.photos.photo[2].$t:"../../content/themes/pethaven/assets/imgs/pet-img-notfound.jpg"}(n);e.append(jQuery("<a href='https://www.petfinder.com/petdetail/"+n.id.$t+"' class='grid-item pet-link "+o+"' data-type='"+n.animal.$t+"' data-breeds='"+o+"' data-size='"+n.size.$t+"' data-age='"+n.age.$t+"' target='_blank'><img src="+r+" class='pet-image'><h4 class='pet-name'>"+n.name.$t+"</h4><p class='pet-breed'><strong>Breeds</strong>"+o+"</p><p class='pet-age'><strong>Age:</strong> "+n.age.$t+"</p><p class='pet-size'><strong>Size:</strong> "+n.size.$t+"</p></a>"))})},f=function(){0===n.val().length?c.type=null:c.type=n.val()},p=function(){if(jQuery(".component-pet-finder-grid").length){var e=jQuery(".component-pet-finder-grid").isotope({itemSelector:".grid-item",percentPosition:!0,masonry:{columnWidth:".grid-item",gutter:2}});f(),g(e),m(e)}},m=function(e){e.isotope({itemSelector:".grid-item",percentPosition:!0,masonry:{columnWidth:".grid-item",gutter:2},filter:function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+="breeds"===n?".grid-item[data-"+n+'*="'+e[n]+'"]':".grid-item[data-"+n+'="'+e[n]+'"]');return t}(function(e){var t;return e.forEach(function(e){var n=jQuery(e)[0],o=(n.dataset.type,n.dataset.breeds,n.dataset.size,n.dataset.age,a.default.omitBy(c,a.default.isNull));if(o.breeds){if(o.breeds.length>3){console.log("Greater than 3! ",o.breeds);var r={type:c.type,age:c.age,size:c.size,breeds:o.breeds};console.log("zzzzzzz: ",r),t=a.default.omitBy(r,a.default.isNull),console.log("finalSelectedOptions: ",t)}}else t=o}),console.log("finalSelectedOptions: ",t),t}(e.isotope("getItemElements")))})},g=function(e){!function(e){n.change(function(){f(),m(e)})}(e),function(e){o.keyup(function(){0===o.val().length?c.breeds=null:c.breeds=o.val().toLowerCase(),m(e)})}(e),function(e){u.change(function(){c.size=u.val(),m(e)})}(e),function(e){s.change(function(){c.age=s.val(),m(e)})}(e),function(e){l.click(function(){!function(e){n.prop("selectedIndex",0),u.prop("selectedIndex",0),s.prop("selectedIndex",0),o.val(""),c={type:null,breeds:null,size:null,age:null},e.isotope({filter:function(){return!0}})}(e)})}(e),function(e){e.on("arrangeComplete",function(e,t){console.log("filteredItems: ",t),y(t)})}(e)},y=function(e){console.log("length: ",e.length),0===e.length?t.addClass("is-empty"):t.hasClass("is-empty")&&t.removeClass("is-empty")};return{loadPets:function(){e.length&&i.default.Observable.fromPromise(r.default.getPets()).subscribe(function(t){d(t.petfinder.pets.pet),e.imagesLoaded(function(){jQuery(".component-pet-finder .spinner").addClass("is-hidden"),e.hasClass("is-visible")||e.addClass("is-visible"),p()})},function(e){console.log("Error: ",e)})}}}());n.default=u},{"./petfinder":4,"./utils":5,lodash:"lodash",rx:"rx"}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){e&&e.__esModule}(e("rx"));var o=function(){var e="https://api.petfinder.com",t="454b72d5b9fc8fca72c7a461a5ac46d2",n=jQuery(".component-pet-finder");return{getBreeds:function(){var o=n.data("animal-type"),r=e+"/breed.list?key="+t+"&animal="+o+"&format=json&callback=?";return jQuery.ajax({url:r,dataType:"jsonp",beforeSend:function(e){},success:function(){}}).promise()},getPets:function(){return jQuery.ajax({url:"https://api.petfinder.com/shelter.getPets?key=454b72d5b9fc8fca72c7a461a5ac46d2&id=MN36&count=1000&format=json&callback=?",dataType:"jsonp",beforeSend:function(e){jQuery(".component-pet-finder .spinner").removeClass("is-hidden")},success:function(){}}).promise()}}}();n.default=o},{rx:"rx"}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o={toInitialCase:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},hasClass:function(e,t){return e.className&&new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)}};n.default=o},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return{initCarousel:function(){jQuery(".component-marquees").slick()},initFitvid:function(){jQuery(".component, .content").fitVids()}}}();n.default=o},{}]},{},[1]);
//# sourceMappingURL=assets/js/app.min.js.map
